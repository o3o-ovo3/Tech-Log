# 프로세스와 쓰레드

:writing_hand: *Assembled by Yunju Jang (2020-12-30)* 

🤝*Contributors : Jiye Bae*

<hr>


- 프로그램

  ​	파일이 저장 장치에 저장되어 있지만 메모리에는 올라가 있지 않은 정적인 상태, 즉 실행되지 않는 상태를 의미한다.

  <br/>

- 프로세스 (Process) 정의

  - 컴퓨터에서 연속적으로 실행되고 있는 컴퓨터 프로그램이다.
  - 메모리에 올라와 실행되고 있는 프로그램의 인스턴스를 뜻한다. (독립적인 객체)
  - 운영체제로부터 시스템 자원<small>(cpu, 메모리 등)</small>을 할당받는 <mark>작업</mark>의 단위이다.
  - 동적인 의미로 실행된 프로그램을 의미한다. <small>(.exe 파일 등을 클릭하여 실행시킨 상태)</small>

<br/>

- 프로세스의 특징

  - 프로세스는 각각 독립된 메모리 영역을 할당 받는다.

    <img src="../resources/process.png" height="200px" align="center">

  - 기본적으로 프로세스당 최소 1개의 스레드를 가지고 있다.

  - 각 프로세스는 별도의 주소 공간에서 실행되며, 한 프로세스는 다른 프로세스의 변수나 자료구조에 접근할 수 없다. 

    <small>+) 하나의 프로세스가 강제 종료되어도, 다른 프로세스에게 영향을 주지 않는다.</small>

  - 접근을 위해서는 소켓 통신 등 프로세스간 통신이 필요하다.

  <br/>

  <br/>

- 쓰레드 (Thread) 정의

  ​	프로그램 하나가 단순히 한 작업만을 하는 경우는 없기 때문에, 그것을 처리하기 위한 프로세스 보다 더 작은 개념이 필요 --> 그것이 쓰레드

  - 프로세스 내 실행되는 여러 <mark>실행 흐름</mark>의 단위

  - 프로세스 코드에 의해 정의된 절차에 따라 실행되는 특정한 수행 경로

  - 프로세스가 할당받은 자원을 이용하는 실행의 단위

    <img src="../resources/thread.png" height="200px" align="center">

  <br/>

  <br/>

- 쓰레드의 특징

  - 프로세스 메모리 영역 중  stack만 각자 따로 할당 받고 code, data, heap 영역은 공유한다.

  - 같은 프로세스 내의 여러 쓰레드는 프로세스의 주소 공간이나 자원들을 서로 공유하면서 실행된다.

  - 같은 프로세스 내의 여러 쓰레드 들은 같은 힙 공간을 공유한다. 

    <small> cf. 프로세스는 다른 프로세스의 메모리에 직접 접근할 수 없다.</small>

  - 한 쓰레드가 프로세스 자원을 변경하면, 다른 이웃 쓰레드도 그 변경 결과를 즉시 볼 수 있다.

    <small>+)  메모리 영역의 내용을 공유하기 때문에 쓰레드 하나에서 오류가 나면 같은 프로세스 내 다른 쓰레도 모두 강제 종료된다.</small>

    <br/>

    <br/>

- 멀티 프로세스와 멀티 쓰레드

  - 멀티 프로세스

    - 하나의 응용 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것을 의미한다.

    - 여러 자식 프로세스 중 하나에 문제가 발생해도 다른 프로세스에 영향을 주지 않는다.

    - Context Switching 에서 무거운 작업이 진행되고, 많은 시간이 소모 되는 등 오버헤드가 발생할 수 있다.

      <br/>

  - 멀티 쓰레드

    - 하나의 응용 프로그램을 여러 개의 쓰레드로 구성하여 각 쓰레드로 하여금 하나의 작업을 처리하도록 하는 것이다.

      <small>+) 즉, 프로그램을 여러 개 키는 것 보다 하나의 프로그램 안에서 여러 작업을 해결하는 것이다.</small>

    - 프로세스 간 통신 보다 쓰레드 간의 통신 비용이 적어 작업들 간 통신의 부담이 줄어든다.

<br/>

<br/>

## 예상 질문❔

Q1) 프로세스란 무엇인가?

A1) 운영체제로부터 시스템 자원을 할당 받아 컴퓨터에서 연속적으로 실행되고 있는 프로그램이다.

<br/>

Q2) 쓰레드란 무엇인가?

A2) 하나의 프로세스 내에 존재하는 해당 프로세스를 처리하기 위한 여러 실행 흐름의 단위이다.

<br/>

Q3) 프로세스와 쓰레드의 차이는 무엇인가?

A3) 프로세스는 각각의 메모리 영역을 따로 차지하고 있어 프로세스 간 접근이 불가능하지만,쓰레드는 스택 영역을 제외한 메모리 공간을 하나의 프로세스 안에서 다른 쓰레드들과 공유하고 있기 때문에 서로간의 접근이 가능하다.

<br/>

### Reference📖

- https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html
- https://juyoung-1008.tistory.com/47
- https://velog.io/@raejoonee/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4
